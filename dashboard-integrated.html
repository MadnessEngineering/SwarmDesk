<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Madness Interactive Dashboard - SwarmDesk Integration</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Courier New', monospace;
            background: #000;
            color: #0f0;
        }

        /* üé™ MADNESS DASHBOARD LAYOUT */
        .dashboard-container {
            display: flex;
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        /* üìã LEFT SIDEBAR - Project Management */
        .left-sidebar {
            width: 350px;
            background: linear-gradient(135deg, #001122 0%, #002244 100%);
            border-right: 2px solid #00ff88;
            box-shadow: 2px 0 20px rgba(0, 255, 136, 0.3);
            overflow-y: auto;
            transition: width 0.3s ease, margin-left 0.3s ease;
            z-index: 1000;
        }

        .left-sidebar.collapsed {
            width: 60px;
            margin-left: -290px;
        }

        /* üéÆ CENTRAL SWARMDESK */
        .swarmdesk-container {
            flex: 1;
            position: relative;
            background: #000511;
            transition: margin 0.3s ease;
        }

        /* üí¨ RIGHT SIDEBAR - Communication & Analytics */
        .right-sidebar {
            width: 350px;
            background: linear-gradient(135deg, #220011 0%, #440022 100%);
            border-left: 2px solid #ff6b35;
            box-shadow: -2px 0 20px rgba(255, 107, 53, 0.3);
            overflow-y: auto;
            transition: width 0.3s ease, margin-right 0.3s ease;
            z-index: 1000;
        }

        .right-sidebar.collapsed {
            width: 60px;
            margin-right: -290px;
        }

        /* üîß SIDEBAR TOGGLE BUTTONS */
        .sidebar-toggle {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .left-toggle {
            right: -20px;
            border-color: #00ff88;
            color: #00ff88;
        }

        .left-toggle:hover {
            box-shadow: 0 0 15px #00ff88;
            transform: translateY(-50%) scale(1.1);
        }

        .right-toggle {
            left: -20px;
            border-color: #ff6b35;
            color: #ff6b35;
        }

        .right-toggle:hover {
            box-shadow: 0 0 15px #ff6b35;
            transform: translateY(-50%) scale(1.1);
        }

        /* üìë SIDEBAR CONTENT SECTIONS */
        .sidebar-section {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-section h3 {
            margin: 0 0 15px 0;
            color: #ff6b35;
            text-shadow: 0 0 10px currentColor;
            font-size: 18px;
        }

        .sidebar-section.projects h3 {
            color: #00ff88;
        }

        .sidebar-section.mcp h3 {
            color: #0088ff;
        }

        .sidebar-section.chat h3 {
            color: #ff6b35;
        }

        .sidebar-section.analytics h3 {
            color: #ffaa00;
        }

        /* üéØ PROJECT CARDS */
        .project-card {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid #00ff88;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .project-card:hover {
            background: rgba(0, 255, 136, 0.2);
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
            transform: translateX(5px);
        }

        .project-card h4 {
            margin: 0 0 8px 0;
            color: #00ff88;
            font-size: 14px;
        }

        .project-card p {
            margin: 0;
            font-size: 12px;
            opacity: 0.8;
            line-height: 1.4;
        }

        /* üõ†Ô∏è MCP TOOLS */
        .mcp-tool {
            background: rgba(0, 136, 255, 0.1);
            border: 1px solid #0088ff;
            border-radius: 6px;
            padding: 8px 12px;
            margin: 4px 0;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .mcp-tool:hover {
            background: rgba(0, 136, 255, 0.2);
            box-shadow: 0 0 8px rgba(0, 136, 255, 0.5);
        }

        /* üí¨ CHAT INTERFACE */
        .chat-container {
            height: 300px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #ff6b35;
            border-radius: 8px;
            padding: 10px;
            overflow-y: auto;
            margin-bottom: 10px;
        }

        .chat-input {
            width: 100%;
            padding: 8px;
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid #ff6b35;
            border-radius: 6px;
            color: #ff6b35;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            box-sizing: border-box;
        }

        .chat-input:focus {
            outline: none;
            box-shadow: 0 0 8px rgba(255, 107, 53, 0.5);
        }

        /* üìä ANALYTICS DISPLAYS */
        .analytics-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 170, 0, 0.2);
        }

        .analytics-item:last-child {
            border-bottom: none;
        }

        .analytics-label {
            color: #ffaa00;
            font-size: 12px;
        }

        .analytics-value {
            color: #fff;
            font-weight: bold;
            font-size: 14px;
        }

        /* üé™ RESPONSIVE DESIGN */
        @media (max-width: 1200px) {
            .left-sidebar, .right-sidebar {
                width: 300px;
            }
        }

        @media (max-width: 900px) {
            .left-sidebar, .right-sidebar {
                width: 250px;
            }
        }

        /* üåü ANIMATIONS */
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 5px currentColor; }
            50% { box-shadow: 0 0 20px currentColor; }
        }

        .glow-effect {
            animation: glow 2s ease-in-out infinite;
        }

        /* üîÑ LOADING STATES */
        .loading-indicator {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 2px solid currentColor;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* üì± MOBILE OPTIMIZATIONS */
        @media (max-width: 768px) {
            .left-sidebar, .right-sidebar {
                position: absolute;
                height: 100%;
                z-index: 2000;
            }
            
            .left-sidebar {
                left: 0;
            }
            
            .right-sidebar {
                right: 0;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- üìã LEFT SIDEBAR: Project Management -->
        <div class="left-sidebar" id="leftSidebar">
            <div class="sidebar-toggle left-toggle" onclick="toggleSidebar('left')">
                <span id="leftToggleIcon">‚óÄ</span>
            </div>

            <!-- üéØ PROJECTS SECTION -->
            <div class="sidebar-section projects">
                <h3>üöÄ Projects</h3>
                <div class="project-card" onclick="selectProject('EventGhost')">
                    <h4>üé≠ EventGhost-Rust</h4>
                    <p>Automation system - Active Development</p>
                </div>
                <div class="project-card" onclick="selectProject('DVTTestKit')">
                    <h4>üß™ DVT TestKit</h4>
                    <p>Testing framework - Maintenance Mode</p>
                </div>
                <div class="project-card" onclick="selectProject('Inventorium')">
                    <h4>üì¶ Inventorium</h4>
                    <p>Asset management - Production Ready</p>
                </div>
                <div class="project-card" onclick="selectProject('Omnispindle')">
                    <h4>üåÄ Omnispindle</h4>
                    <p>MCP server - Continuous Evolution</p>
                </div>
                <div class="project-card" onclick="selectProject('Swarmonomicon')">
                    <h4>üêù Swarmonomicon</h4>
                    <p>Agent swarm - Experimental Madness</p>
                </div>
            </div>

            <!-- üõ†Ô∏è MCP TOOLS SECTION -->
            <div class="sidebar-section mcp">
                <h3>üîß MCP Tools</h3>
                <div class="mcp-tool" onclick="runMCPTool('list_projects')">
                    üìÇ List Projects
                </div>
                <div class="mcp-tool" onclick="runMCPTool('add_todo')">
                    üìù Add Todo
                </div>
                <div class="mcp-tool" onclick="runMCPTool('query_todos')">
                    üîç Query Todos
                </div>
                <div class="mcp-tool" onclick="runMCPTool('check_status')">
                    ‚ö° System Status
                </div>
                <div class="mcp-tool" onclick="runMCPTool('analytics')">
                    üìä Analytics
                </div>
            </div>

            <!-- üìã CURRENT PROJECT DETAILS -->
            <div class="sidebar-section current-project">
                <h3>üìã Current Project</h3>
                <div id="currentProjectDetails">
                    <p style="opacity: 0.6; font-size: 12px;">Select a project or workstation...</p>
                </div>
            </div>
        </div>

        <!-- üéÆ CENTRAL SWARMDESK -->
        <div class="swarmdesk-container">
            <div id="canvas-container"></div>
            
            <!-- SwarmDesk UI Overlays -->
            <div id="ui-overlay" style="position: absolute; top: 20px; left: 20px; 
                 background: rgba(0, 0, 0, 0.9); color: #0f0; padding: 15px; 
                 border-radius: 10px; border: 2px solid #0f0; max-width: 300px;">
                <h2 style="margin: 0 0 10px 0; color: #ff6b35;">üöÄ SwarmDesk</h2>
                <p style="margin: 5px 0; font-size: 12px;">WASD - Navigate workshop</p>
                <p style="margin: 5px 0; font-size: 12px;">E - Interface with agents</p>
                <p style="margin: 5px 0; font-size: 12px;">R - View README details</p>
                <p style="margin: 5px 0; font-size: 12px;">M - MCP debugging</p>
                <p style="margin: 5px 0; font-size: 12px;">SPACE - Chaos dance mode</p>
            </div>

            <div id="interaction-prompt" style="position: absolute; top: 50%; left: 50%; 
                 transform: translate(-50%, -50%); background: rgba(0, 0, 0, 0.9); 
                 color: #0f0; padding: 10px 20px; border-radius: 20px; 
                 border: 1px solid #0f0; display: none;"></div>

            <div id="dialogue-box" style="position: absolute; bottom: 20px; left: 50%; 
                 transform: translateX(-50%); background: rgba(0, 0, 0, 0.95); 
                 color: #0f0; padding: 20px; border-radius: 15px; 
                 border: 2px solid #0f0; max-width: 600px; width: 90%; 
                 display: none;">
                <h3 id="dialogue-name">Agent Name</h3>
                <div id="dialogue-content">Content</div>
                <div id="dialogue-options"></div>
                <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #0f0;">
                    <input type="text" id="custom-question-input" placeholder="Enter command..." 
                           style="width: 100%; padding: 8px; background: rgba(0, 0, 0, 0.8); 
                           border: 1px solid #0f0; border-radius: 6px; color: #0f0; 
                           font-family: 'Courier New', monospace; box-sizing: border-box;">
                    <button id="custom-question-submit" style="background: #0f0; color: #000; 
                            border: none; padding: 8px 16px; border-radius: 6px; 
                            margin-top: 8px; cursor: pointer;">Execute</button>
                </div>
            </div>
        </div>

        <!-- üí¨ RIGHT SIDEBAR: Communication & Analytics -->
        <div class="right-sidebar" id="rightSidebar">
            <div class="sidebar-toggle right-toggle" onclick="toggleSidebar('right')">
                <span id="rightToggleIcon">‚ñ∂</span>
            </div>

            <!-- üí¨ CHAT ASSISTANT -->
            <div class="sidebar-section chat">
                <h3>üí¨ AI Chat Assistant</h3>
                <div class="chat-container" id="chatContainer">
                    <div style="color: #ff6b35; font-size: 12px; margin-bottom: 10px;">
                        ü§ñ AI Assistant ready to help with your projects!
                    </div>
                </div>
                <input type="text" class="chat-input" id="chatInput" 
                       placeholder="Ask me anything about your projects..." 
                       onkeypress="handleChatInput(event)">
            </div>

            <!-- üìä ANALYTICS DASHBOARD -->
            <div class="sidebar-section analytics">
                <h3>üìä Analytics</h3>
                <div class="analytics-item">
                    <span class="analytics-label">Active Projects:</span>
                    <span class="analytics-value" id="activeProjects">5</span>
                </div>
                <div class="analytics-item">
                    <span class="analytics-label">Pending Todos:</span>
                    <span class="analytics-value" id="pendingTodos">23</span>
                </div>
                <div class="analytics-item">
                    <span class="analytics-label">Completed Today:</span>
                    <span class="analytics-value" id="completedToday">7</span>
                </div>
                <div class="analytics-item">
                    <span class="analytics-label">Agents Active:</span>
                    <span class="analytics-value" id="activeAgents">6</span>
                </div>
                <div class="analytics-item">
                    <span class="analytics-label">System Load:</span>
                    <span class="analytics-value" id="systemLoad">42%</span>
                </div>
            </div>

            <!-- üìã ACTIVITY LOG -->
            <div class="sidebar-section activity">
                <h3>üìã Recent Activity</h3>
                <div id="activityLog" style="height: 200px; overflow-y: auto; font-size: 11px;">
                    <div style="margin: 5px 0; padding: 5px; background: rgba(0, 255, 136, 0.1); 
                         border-radius: 4px; border-left: 3px solid #00ff88;">
                        <strong>SwarmDesk:</strong> Workstation interaction detected
                    </div>
                    <div style="margin: 5px 0; padding: 5px; background: rgba(255, 107, 53, 0.1); 
                         border-radius: 4px; border-left: 3px solid #ff6b35;">
                        <strong>Agent:</strong> Git Assistant executed command
                    </div>
                    <div style="margin: 5px 0; padding: 5px; background: rgba(0, 136, 255, 0.1); 
                         border-radius: 4px; border-left: 3px solid #0088ff;">
                        <strong>MCP:</strong> Todo status updated
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- üé™ SCRIPTS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="swarmdesk.js"></script>
    <script src="swarmdesk-dashboard-hooks.js"></script>
    <script>
        // üéÆ DASHBOARD INTEGRATION LOGIC
        let leftSidebarCollapsed = false;
        let rightSidebarCollapsed = false;
        let currentProject = null;

        // üîß SIDEBAR TOGGLE FUNCTIONALITY
        function toggleSidebar(side) {
            const sidebar = document.getElementById(side + 'Sidebar');
            const toggleIcon = document.getElementById(side + 'ToggleIcon');
            
            if (side === 'left') {
                leftSidebarCollapsed = !leftSidebarCollapsed;
                sidebar.classList.toggle('collapsed', leftSidebarCollapsed);
                toggleIcon.textContent = leftSidebarCollapsed ? '‚ñ∂' : '‚óÄ';
            } else {
                rightSidebarCollapsed = !rightSidebarCollapsed;
                sidebar.classList.toggle('collapsed', rightSidebarCollapsed);
                toggleIcon.textContent = rightSidebarCollapsed ? '‚óÄ' : '‚ñ∂';
            }
            
            // üé™ MADNESS: Update SwarmDesk canvas size when sidebars toggle
            setTimeout(() => {
                if (typeof renderer !== 'undefined' && renderer) {
                    const container = document.getElementById('canvas-container');
                    const rect = container.getBoundingClientRect();
                    renderer.setSize(rect.width, rect.height);
                    if (typeof camera !== 'undefined' && camera) {
                        camera.aspect = rect.width / rect.height;
                        camera.updateProjectionMatrix();
                    }
                }
            }, 300);
        }

        // üéØ PROJECT SELECTION (Enhanced with SwarmDesk integration)
        function selectProject(projectName) {
            currentProject = projectName;
            
            // Use SwarmDesk dashboard bridge if available
            if (typeof SwarmDeskDashboard !== 'undefined') {
                SwarmDeskDashboard.selectProject(projectName);
            } else {
                updateCurrentProjectDetails(projectName);
                logActivity('SwarmDesk', `Selected project: ${projectName}`);
            }
            
            // Add visual feedback
            document.querySelectorAll('.project-card').forEach(card => {
                card.style.background = 'rgba(0, 255, 136, 0.1)';
            });
            
            event.target.style.background = 'rgba(0, 255, 136, 0.3)';
        }

        // üìã UPDATE PROJECT DETAILS (Enhanced)
        function updateCurrentProjectDetails(projectName) {
            const detailsDiv = document.getElementById('currentProjectDetails');
            
            // Get project data from SwarmDesk if available
            let projectData;
            if (typeof projectReadmes !== 'undefined') {
                projectData = projectReadmes[projectName];
            } else {
                // Fallback data
                projectData = {
                    title: `üìã ${projectName}`,
                    description: 'Project details loading...',
                    status: 'üîÑ Loading'
                };
            }
            
            if (projectData) {
                // Get project colors for theming
                let colors = { primary: '#00ff88', secondary: '#33ffaa' };
                if (typeof SwarmDeskDashboard !== 'undefined') {
                    colors = SwarmDeskDashboard.getProjectColors(projectName);
                }
                
                detailsDiv.innerHTML = `
                    <h4 style="color: ${colors.primary}; margin: 0 0 10px 0;">${projectData.title}</h4>
                    <p style="font-size: 12px; margin: 5px 0;">${projectData.description}</p>
                    <div style="margin-top: 10px;">
                        <strong style="color: #0088ff;">Status:</strong> 
                        <span style="color: #ff6b35;">${projectData.status}</span>
                    </div>
                `;
            }
        }

        // üõ†Ô∏è MCP TOOL EXECUTION (Enhanced)
        function runMCPTool(toolName) {
            const tool = event.target;
            const originalText = tool.innerHTML;
            
            // Show loading state
            tool.innerHTML = '<span class="loading-indicator"></span> Processing...';
            tool.style.pointerEvents = 'none';
            
            // Simulate MCP tool execution
            setTimeout(() => {
                tool.innerHTML = originalText;
                tool.style.pointerEvents = 'auto';
                
                // Use SwarmDesk dashboard bridge if available
                if (typeof SwarmDeskDashboard !== 'undefined') {
                    SwarmDeskDashboard.executeMCPTool(toolName, 'success');
                } else {
                    logActivity('MCP', `Executed tool: ${toolName}`);
                }
                
                // Show success feedback
                tool.classList.add('glow-effect');
                setTimeout(() => tool.classList.remove('glow-effect'), 1000);
            }, 1000 + Math.random() * 2000);
        }

        // üí¨ CHAT INPUT HANDLING
        function handleChatInput(event) {
            if (event.key === 'Enter') {
                const input = event.target;
                const message = input.value.trim();
                
                if (message) {
                    addChatMessage('You', message);
                    input.value = '';
                    
                    // Simulate AI response
                    setTimeout(() => {
                        const responses = [
                            'I can help you with project management tasks!',
                            'What specific aspect of your project would you like to explore?',
                            'I\'m analyzing your project data now...',
                            'Let me check the current status of your tasks.',
                            'That\'s an interesting question about your workflow!',
                            'Would you like me to focus on a specific workstation in SwarmDesk?',
                            'I can integrate with the 3D workspace to show you relevant data!'
                        ];
                        const response = responses[Math.floor(Math.random() * responses.length)];
                        addChatMessage('AI Assistant', response);
                    }, 1000 + Math.random() * 2000);
                }
            }
        }

        // üí¨ ADD CHAT MESSAGE
        function addChatMessage(sender, message) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.style.cssText = `
                margin: 8px 0; 
                padding: 8px; 
                border-radius: 6px; 
                font-size: 12px;
                background: ${sender === 'You' ? 'rgba(0, 255, 136, 0.1)' : 'rgba(255, 107, 53, 0.1)'};
                border-left: 3px solid ${sender === 'You' ? '#00ff88' : '#ff6b35'};
            `;
            messageDiv.innerHTML = `<strong>${sender}:</strong> ${message}`;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // üìã ACTIVITY LOGGING
        function logActivity(source, message) {
            const activityLog = document.getElementById('activityLog');
            const logEntry = document.createElement('div');
            logEntry.style.cssText = `
                margin: 5px 0; 
                padding: 5px; 
                background: rgba(0, 255, 136, 0.1); 
                border-radius: 4px; 
                border-left: 3px solid #00ff88;
                font-size: 11px;
            `;
            
            const timestamp = new Date().toLocaleTimeString();
            logEntry.innerHTML = `<strong>${source}:</strong> ${message} <span style="opacity: 0.6; float: right;">${timestamp}</span>`;
            activityLog.insertBefore(logEntry, activityLog.firstChild);
            
            // Keep only last 10 entries
            while (activityLog.children.length > 10) {
                activityLog.removeChild(activityLog.lastChild);
            }
        }

        // üìä ANALYTICS UPDATES (Enhanced with SwarmDesk data)
        function updateAnalytics() {
            const elements = {
                activeProjects: document.getElementById('activeProjects'),
                pendingTodos: document.getElementById('pendingTodos'),
                completedToday: document.getElementById('completedToday'),
                activeAgents: document.getElementById('activeAgents'),
                systemLoad: document.getElementById('systemLoad')
            };
            
            // Get real-time data from SwarmDesk if available
            if (typeof SwarmDeskDashboard !== 'undefined') {
                const analytics = SwarmDeskDashboard.getAnalytics();
                elements.activeProjects.textContent = analytics.activeProjects;
                elements.activeAgents.textContent = analytics.activeAgents;
                elements.systemLoad.textContent = analytics.systemLoad;
            } else {
                // Fallback random updates
                elements.pendingTodos.textContent = Math.floor(20 + Math.random() * 10);
                elements.completedToday.textContent = Math.floor(5 + Math.random() * 8);
                elements.systemLoad.textContent = Math.floor(30 + Math.random() * 40) + '%';
            }
        }

        // üé™ INITIALIZE DASHBOARD
        function initializeDashboard() {
            // Welcome message
            setTimeout(() => {
                addChatMessage('AI Assistant', 'Welcome to the Madness Interactive Dashboard! üöÄ');
                addChatMessage('AI Assistant', 'SwarmDesk 3D workspace is integrated and ready!');
                logActivity('System', 'Dashboard initialized successfully');
                
                // Check for SwarmDesk integration
                if (typeof SwarmDeskDashboard !== 'undefined') {
                    logActivity('SwarmDesk', '3D workspace integration active');
                    addChatMessage('AI Assistant', 'Navigate the 3D workshop with WASD, interact with workstations using R!');
                }
            }, 1000);
            
            // Start analytics updates
            setInterval(updateAnalytics, 5000);
            
            // Initialize first analytics update
            updateAnalytics();
            
            // Setup periodic activity updates
            setInterval(() => {
                if (Math.random() < 0.3) {
                    const activities = [
                        ['SwarmDesk', 'Agent movement detected'],
                        ['System', 'Memory optimization performed'],
                        ['MCP', 'Background task completed'],
                        ['Agent', 'Status update received']
                    ];
                    const activity = activities[Math.floor(Math.random() * activities.length)];
                    logActivity(activity[0], activity[1]);
                }
            }, 8000);
        }

        // üöÄ START THE MADNESS!
        window.addEventListener('load', initializeDashboard);
        
        // üéÆ KEYBOARD SHORTCUTS FOR DASHBOARD
        document.addEventListener('keydown', (e) => {
            // Don't interfere with SwarmDesk controls or input fields
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
            if (document.getElementById('dialogue-box').style.display === 'block') return;
            
            switch(e.key) {
                case 'F1':
                    e.preventDefault();
                    toggleSidebar('left');
                    break;
                case 'F2':
                    e.preventDefault();
                    toggleSidebar('right');
                    break;
                case 'F3':
                    e.preventDefault();
                    document.getElementById('chatInput').focus();
                    break;
            }
        });
    </script>
</body>
</html> 
